/*! simple-image-editor 1.0.0 by: Sam North. Built on 08-29-2018 */
function simpleImageEditor(e){var c,d,t,i,s,o=e||{},l=o.canvasStrokeLineWidth||6,n=!1,a="simple-image",r=o.showDownloadButton||!0,u=o.showSaveButton||!1,m=0,v={pencil:0,line:1};function g(){i={pX:0,pY:0,X:0,Y:0,beginX:0,beginY:0,endX:0,endY:0}}function p(e){document.getElementById("sie-hp").setAttribute("src",e.target.result),m=0,d.clearRect(0,0,c.width,c.height)}function h(){var e=document.getElementById("sie-hp"),t=e.width/c.width,i=e.height/t,n=c.height-i,s=0<n&&(90===m||180===m)?n:0;d.drawImage(e,0,s,c.width,i)}function b(e){d.save();var t=(m=(m+90)%360)*Math.PI/180;d.clearRect(0,0,c.width,c.height);var i=90===m||180===m?c.width:0,n=180===m||270===m?c.height:0;d.translate(i,n),d.rotate(t),h(),d.rotate(-t),d.translate(-i,n),d.restore()}function f(e){return e.clientX-c.getBoundingClientRect().left}function y(e){return e.clientY-c.getBoundingClientRect().top}function E(e){i.pX=i.X,i.pY=i.Y,i.X=f(e),i.Y=y(e)}function w(e){g(),i.beginX=f(e),i.beginY=y(e),E(e),n=!0}function I(e){n&&(E(e),s===v.pencil&&(d.beginPath(),d.moveTo(i.pX,i.pY),d.lineTo(i.X,i.Y),d.strokeStyle=t,d.lineWidth=l,d.stroke(),d.closePath()))}function B(e){i.endX=f(e),i.endY=y(e),n&&s===v.line&&(d.beginPath(),d.moveTo(i.beginX,i.beginY),d.lineTo(i.endX,i.endY),d.strokeStyle=t,d.lineWidth=l,d.stroke(),d.closePath()),n=!1,g()}function L(){var e=document.getElementById("sie-cp");t=e.value}function x(){var e=document.getElementById("sie-hsl"),t=o.editedImageAppendedName||"-edited",i=o.editedImageFileType||"png",n=c.toDataURL("image/"+t).replace("image/"+t,"image/octet-stream");return e.setAttribute("download",a+t+"."+i),e.setAttribute("href",n),n}function k(){x(),document.getElementById("sie-hsl").click()}function X(e){var t=document.getElementsByClassName("sie-dc");for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];n.classList.remove("sie-pc"),n.removeAttribute("disabled")}s=Number(e.target.dataset.value),e.target.setAttribute("disabled","disabled"),e.target.classList.add("sie-pc")}function Y(){document.getElementById("sie-lwd").textContent=l}function P(e){l=Number(e.target.value),Y()}return document.getElementById(o.containerId).innerHTML='<style>.sie-cnt{position:relative;overflow:hidden;margin-bottom:10px;margin-top:10px;text-align:center;border:1px #000 solid}.sie-cnt>img{width:96%;position:absolute;display:block;top:0;left:6px}#sie-cnv:hover{cursor:cell}.sie-ib{display:inline-block}.sie-h{display:none!important}#sie-cnt{display:hidden}#sie-c{vertical-align:top;margin-left:10px;min-width:155px;width:155px}#sie-c .sie-cc{margin-top:10px;margin-bottom:10px}.sie-pc{color:#fff;background-color:#494a4f;border:#767676 2px solid}#sie-lw{width:50px}</style><input id="sie-fu" type="file"><br><div id="sie"><canvas id="sie-cnv" class="sie-cnt"></canvas><div id="sie-cnt" class="sie-cnt sie-h"><img id="sie-hp"> <a id="sie-hsl"></a></div><div id="sie-c" class="sie-h"><div class="sie-cc"><button id="sie-rb">Rotate</button></div><hr><div class="sie-cc"><input id="sie-cp" type="color"> <span>Select color</span></div><div class="sie-cc"><input id="sie-lw" min="1" max="10" type="range"> <span>Line width: <span id="sie-lwd"></span></span></div><div class="sie-cc"><button data-value="0" class="sie-dc">Pencil</button></div><div class="sie-cc"><button data-value="1" class="sie-dc">Line</button></div><hr><div class="sie-cc"><button id="sie-sb">Save</button> <button id="sie-d">Download</button></div></div></div>',g(),document.getElementById("sie-fu").addEventListener("input",function(e){var t=e.target.files[0],i=new FileReader;i.onload=p,i.readAsDataURL(t);var n=t.name.lastIndexOf(".");-1!=n&&(a=t.name.substring(0,n));var s=document.getElementById("sie-c");s.classList.remove("sie-h"),s.classList.add("sie-ib"),function(){document.getElementById("sie-rb").addEventListener("click",b,!1);var e=document.getElementById("sie-lw");e.value=l,e.addEventListener("change",P,!1),Y();var t=document.getElementById("sie-cp");t.addEventListener("change",L,!1),t.value=o.canvasStrokeStyle||"#FF0000",L(),c.addEventListener("mousedown",w,!1),c.addEventListener("mousemove",I,!1),c.addEventListener("mouseup",B,!1),c.addEventListener("mouseout",B,!1);var i=document.getElementById("sie-sb");u?i.addEventListener("click",x,!1):i.classList.add("sie-h");var n=document.getElementById("sie-d");r?n.addEventListener("click",k,!1):n.classList.add("sie-h");var s=document.getElementsByClassName("sie-dc");for(var d in s)if(s.hasOwnProperty(d)){var a=s[d];a.addEventListener("click",X,!1)}document.getElementById("sie-c").getElementsByClassName("sie-dc")[0].click()}()},!1),document.getElementById("sie-hp").addEventListener("load",h,!1),(c=document.getElementById("sie-cnv")).width=o.width||300,c.height=o.height||c.width,d=c.getContext("2d"),{saveImage:x}}